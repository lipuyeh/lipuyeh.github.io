<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word Bank Reader</title>
    <style>
        #answer {
            margin-top: 20px;
            font-size: 24px;
            font-weight: bold;
            white-space: pre-wrap; /* 保持换行格式 */
        }
    </style>
</head>
<body>
    <h1>Word Bank Reader</h1>

    <button onclick="selectLevel('Bronze')">Select Bronze Words</button>
    <button onclick="selectLevel('Silver')">Select Silver Words</button>
    <button onclick="selectLevel('Gold')">Select Gold Words</button>
    <br>
    <button onclick="startReading()">Start</button>
    <button onclick="showAnswer()">Answer</button>
    <button onclick="nextWord()">Next</button>

    <div id="answer"></div>
    <!-- 新增顯示當前單字索引和總數 -->
    <div id="status"></div>

    <script>
        const wordBank = {
            Bronze: [
                "surface", "remember", "produce", "victory", "defeat", "signal", 
                "prepay", "battery", "nonstop", "curb", "return", "disagree", 
                "search", "public", "cramped", "third", "primary", "common", 
                "thirteen", "bunks", "imperfect", "impolite", "surprise", 
                "control", "sample", "inspect", "incorrect", "fiction", 
                "launch", "equal", "building", "rights", "ocean", "decks"
            ],
            Silver: [
                "encourage", "lifeboats", "abandon", "motionless", "distinguished", 
                "uttered", "chaos", "appeared", "indefinite", "shaky", "longingly", 
                "swelling", "swallowing", "kayaks", "virtual", "stationary", "quilts", 
                "stowed", "uneasy", "drifting", "uneasily", "secured", "glance", 
                "exhaled", "sigh", "overturned", "muttered", "iceberg", "baseboards", 
                "complain", "unmistakably", "disqualified", "hurried", "evacuate"
            ],
            Gold: [
                "impossibility", "shakily", "lifeboats", "signal", "encourage", 
                "architect", "designer", "familiarity", "evacuated", "personable", 
                "generational", "hatchet", "patience", "unsecured", "station", 
                "constructed", "swerve", "uncontrolled", "overcrowded", "grimaced", 
                "exclaimed", "shook", "debris", "hatchet", "architect", "uneasily", 
                "overturned", "impossible", "fiction", "launch", "sample", "evacuated"
            ]
        };

        let currentWord = '';
        let allWords = [];
        let currentIndex = 0;

        function selectLevel(level) {

	    // 判斷操作系統是否為 Linux
	    const isLinux = navigator.platform.includes('Linux');
	    allWords = wordBank[level]
		.sort(() => Math.random() - 0.5)
		.map(sentence => isLinux ? `Hi, ${sentence}` : sentence); // Linux時加 "Hi, "

	    currentIndex = 0;
	    document.getElementById('answer').textContent = ''; // 清空顯示區
	    updateStatus();
        }

        function startReading() {
            if (allWords.length > 0 && currentIndex < allWords.length) {
                currentWord = allWords[currentIndex];
                const speech = new SpeechSynthesisUtterance(currentWord);
                speech.rate = 0.75; // 調整速率
                window.speechSynthesis.speak(speech);
                updateStatus();
            }
        }

        function showAnswer() {
            if (currentWord) {
                document.getElementById('answer').textContent = currentWord;
            }
        }

        function nextWord() {
            if (currentIndex < allWords.length - 1) {
                currentIndex++;
                document.getElementById('answer').textContent = ''; // 清空顯示區
                startReading(); // 自動讀下一個單字
            } else {
                document.getElementById('answer').textContent = 'No more words!';
            }
            updateStatus();
        }

        function updateStatus() {
            document.getElementById('status').textContent = `Word ${currentIndex + 1} of ${allWords.length}`;
        }
    </script>
</body>
</html>

